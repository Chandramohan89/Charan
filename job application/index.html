<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- navbar -->
     <div id="links">
<div><a href="./index.html">Home</a></div>
<div><a href="./application.html">Applied jobs</a></div>
<div><a href="">Bookmarks</a></div>
     </div>

     <!-- form filling -->
     

     <form id="form" >
        <h2>Enter your Application Details</h2>
        <input type="text" placeholder="EnterName" id="name" autocomplete="name"/>
        <input type="email" placeholder="Enter email" id="email" autocomplete="off"/>
  
        <select aria-label="role" id="role">
          <option value="fsd">FSD</option>
          <option value="backend">Backend</option>
          <option value="frontend">FrontEnd</option>
        </select>
        <input
          type="number"
          id="salary"
          placeholder="Enter your expected salary in lakhs per annum"
       autocomplete="name" />
  
        <input type="submit" id="submit" value="submit" autocomplete="off" />
      </form>
</body>
</html>

<script>
    document.querySelector("#form").addEventListener("submit",jobSubmit)

    let jobArr;
    if(localStorage.getItem("jobList") !== null){
      jobArr=JSON.parse (localStorage.getItem("jobList"));
      // it is used to convert json data to object data.
    }
    else{
      jobArr=[];
    }
    function jobSubmit(event) {
        event.preventDefault();

        let jobObj={
            personName:document.querySelector("#name").value,
            personEmail:document.querySelector("#email").value,
            PersonRole:document.querySelector("#role").value,
            personSalary:document.querySelector("#salary").value,
        };

       jobArr.push(jobObj);

       localStorage.setItem("jobList",JSON.stringify(jobArr));

       // when you want to store the data in localStorage you should always send the data in JSON format.
       window.location.href="application.html"
        
    }
</script>